# Cobalt Discord Application

A Discord application that uses the cobalt.tools API to download videos from social media platforms and share them in Discord channels.

## Features

- `/video` slash command to download and share videos from various platforms
- Support for various video quality options
- Options for audio-only or muted video modes
- Handles large files and multiple media items

## Installation

1. Clone the repository:
   ```
   git clone https://github.com/SushyDev/cobalt-discord-app.git
   cd cobalt-discord-app
   ```

2. Install dependencies:
   ```
   go mod download
   ```

3. Build the application:
   ```
   go build -o cobalt-discord-app
   ```

## Configuration

Create a Discord application and get your application token:

1. Go to the [Discord Developer Portal](https://discord.com/developers/applications)
2. Click "New Application" and give it a name
3. Navigate to the "Bot" tab and click "Add Bot"
4. Under the "TOKEN" section, click "Copy" to copy your bot token
5. Go to "OAuth2" > "URL Generator", select the "applications.commands" scope
6. Use the generated URL to invite the application to your server

## Usage

Run the application with your Discord token and optional cobalt.tools API key:

```
./cobalt-discord-app -token "your-discord-token" -apikey "your-cobalt-api-key"
```

### Command Line Options

- `-token`: Discord application token (required)
- `-guild`: Test guild ID. If not provided, commands will be registered globally
- `-cobalt`: Base URL for Cobalt API (default: https://api.cobalt.tools)
- `-apikey`: API Key for Cobalt API authentication
- `-rmcmd`: Remove all commands when shutting down (default: true)

### Available Commands

#### /video

Downloads a video from a social media URL and posts it in the channel.

Options:
- `url`: The URL of the social media post (required)
- `quality`: Video quality (144p to 4320p, or max)
- `mode`: Download mode (auto, audio, mute)

## Project Structure

The project follows a functional architecture with clear module separation:

- `main.go`: Application entry point and command registration
- `config/`: Configuration management
- `cobalt/`: Cobalt API client and types
- `commands/`: Command handlers
- `utils/`: Utility functions and error handling

## Disclaimer

As of now literally 99.95% of this code is generated by Claude 3.7 so yeah its bad but it works lol.
This application is meant for personal use. Ensure you comply with the terms of service for both Discord and the platforms from which you download content.
